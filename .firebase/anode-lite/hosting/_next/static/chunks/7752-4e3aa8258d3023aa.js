"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7752],{16976:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(95155);function a(e){let{title:t,description:r,actions:a}=e;return(0,o.jsxs)("div",{className:"mb-6 md:flex md:items-center md:justify-between",children:[(0,o.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold leading-7 text-foreground sm:truncate sm:text-3xl sm:tracking-tight",children:t}),r&&(0,o.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:r})]}),a&&(0,o.jsx)("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:a})]})}},30285:(e,t,r)=>{r.d(t,{$:()=>i,r:()=>d});var o=r(95155),a=r(12115),n=r(99708),s=r(74466),l=r(59434);let d=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,asChild:i=!1,...u}=e,c=i?n.DX:"button";return(0,o.jsx)(c,{className:(0,l.cn)(d({variant:a,size:s,className:r})),ref:t,...u})});i.displayName="Button"},40283:(e,t,r)=>{r.d(t,{A:()=>c,AuthProvider:()=>u});var o=r(95155),a=r(93004),n=r(12115),s=r(67039),l=r(35317),d=r(50172);let i=(0,n.createContext)(void 0),u=e=>{let{children:t}=e,[r,u]=(0,n.useState)(null),[c,f]=(0,n.useState)(null),[m,g]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e,t=!1;console.log("[AuthContext] Mount. didUnsubscribe=false. Setting up onAuthStateChanged and timeout.");let r=setTimeout(()=>{t||x||(console.warn("[AuthContext] Auth check TIMEOUT (15s). Forcing authResolved=true."),t||(u(null),f(null),g(!1),h(!0)))},15e3);try{e=(0,a.hg)(s.j2,async e=>{if(console.log("[AuthContext] onAuthStateChanged triggered. firebaseUser UID:",e?e.uid:"null"),t){console.log("[AuthContext] onAuthStateChanged: Component unmounted, exiting.");return}try{if(e){console.log("[AuthContext] firebaseUser exists. UID:",e.uid),t||u(e);try{console.log("[AuthContext] Attempting to get userDocRef for UID:",e.uid);let r=(0,l.H9)(s.db,"usuarios",e.uid);console.log("[AuthContext] userDocRef created. Attempting getDoc.");let o=await (0,l.x7)(r);if(console.log("[AuthContext] getDoc completed. userDocSnap.exists():",o.exists()),o.exists()){let e=o.data();t||(f(e),g("admin"===e.role)),console.log("[AuthContext] User data from Firestore:",e)}else console.warn("[AuthContext] User document ".concat(e.uid," not found in Firestore. Resetting userData/isAdmin.")),t||(f(null),g(!1))}catch(e){console.error("[AuthContext] Error fetching user data from Firestore:",e),t||(f(null),g(!1))}}else console.log("[AuthContext] No firebaseUser. Resetting user, userData, isAdmin."),t||(u(null),f(null),g(!1))}catch(e){console.error("[AuthContext] Inner error in onAuthStateChanged async callback:",e),t||(u(null),f(null),g(!1))}finally{t||(console.log("[AuthContext] onAuthStateChanged finally block. Setting authResolved=true."),h(!0),clearTimeout(r))}})}catch(e){console.error("[AuthContext] CRITICAL: Error setting up onAuthStateChanged listener:",e),t||(u(null),f(null),g(!1),console.log("[AuthContext] Setting authResolved=true in onAuthStateChanged SETUP CATCH block due to critical error."),h(!0),clearTimeout(r))}return()=>{console.log("[AuthContext] Cleanup. Setting didUnsubscribe=true."),t=!0,e&&(console.log("[AuthContext] Unsubscribing from onAuthStateChanged."),e()),clearTimeout(r),console.log("[AuthContext] Cleared loadingTimeout in cleanup.")}},[]),x)?(0,o.jsx)(i.Provider,{value:{user:r,userData:c,isAdmin:m,loading:!x,db:s.db},children:t}):(0,o.jsxs)("div",{className:"flex h-screen flex-col items-center justify-center gap-2 bg-background text-muted-foreground",children:[(0,o.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"}),(0,o.jsx)("p",{className:"text-sm mt-4",children:"Carregando autentica\xe7\xe3o..."})]})},c=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},59434:(e,t,r)=>{r.d(t,{cn:()=>n});var o=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,o.$)(t))}},62523:(e,t,r)=>{r.d(t,{p:()=>s});var o=r(95155),a=r(12115),n=r(59434);let s=a.forwardRef((e,t)=>{let{className:r,type:a,...s}=e;return(0,o.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});s.displayName="Input"},66695:(e,t,r)=>{r.d(t,{BT:()=>i,Wu:()=>u,ZB:()=>d,Zp:()=>s,aR:()=>l,wL:()=>c});var o=r(95155),a=r(12115),n=r(59434);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});s.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});i.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});u.displayName="CardContent";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});c.displayName="CardFooter"},67039:(e,t,r)=>{let o;r.d(t,{IG:()=>u,db:()=>i,hJ:()=>c,j2:()=>d});var a=r(23915),n=r(93004),s=r(35317),l=r(90858);o=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)({apiKey:"AIzaSyB6l66mg1YBrpekOLGtSzdsIIlyXsM0ziU",authDomain:"anode-lite.firebaseapp.com",projectId:"anode-lite",storageBucket:"anode-lite.firebasestorage.app",messagingSenderId:"468146694907",appId:"1:468146694907:web:aa60f4e32503ef70401e5e"});let d=(0,n.xI)(o),i=(0,s.aU)(o),u=(0,l.c7)(o),c=new n.HF},85127:(e,t,r)=>{r.d(t,{A0:()=>l,BF:()=>d,Hj:()=>i,XI:()=>s,nA:()=>c,nd:()=>u});var o=r(95155),a=r(12115),n=r(59434);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("div",{className:"relative w-full overflow-auto",children:(0,o.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...a})})});s.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...a})});l.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...a})});d.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});i.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableHead";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});c.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,o.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},87481:(e,t,r)=>{r.d(t,{dj:()=>f});var o=r(12115);let a=0,n=new Map,s=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],i={toasts:[]};function u(e){i=l(i,e),d.forEach(e=>{e(i)})}function c(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||o()}}}),{id:r,dismiss:o,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=o.useState(i);return o.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}}}]);