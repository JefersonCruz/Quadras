(()=>{var e={};e.id=273,e.ids=[273],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15079:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>p});var r=s(60687),a=s(43210),i=s(72951),o=s(61662),d=s(89743),l=s(58450),n=s(4780);let c=i.bL;i.YJ;let p=i.WT,u=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(i.l9,{ref:a,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,(0,r.jsx)(i.In,{asChild:!0,children:(0,r.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.l9.displayName;let m=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.PP,{ref:s,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(d.A,{className:"h-4 w-4"})}));m.displayName=i.PP.displayName;let x=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.wn,{ref:s,className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,r.jsx)(o.A,{className:"h-4 w-4"})}));x.displayName=i.wn.displayName;let h=a.forwardRef(({className:e,children:t,position:s="popper",...a},o)=>(0,r.jsx)(i.ZL,{children:(0,r.jsxs)(i.UC,{ref:o,className:(0,n.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[(0,r.jsx)(m,{}),(0,r.jsx)(i.LM,{className:(0,n.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(x,{})]})}));h.displayName=i.UC.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.JU,{ref:s,className:(0,n.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.JU.displayName;let f=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(i.q7,{ref:a,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(i.VF,{children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),(0,r.jsx)(i.p4,{children:t})]}));f.displayName=i.q7.displayName,a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.wv,{ref:s,className:(0,n.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.wv.displayName},18448:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>n});var r=s(65239),a=s(48088),i=s(88170),o=s.n(i),d=s(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let n={children:["",{children:["dashboard",{children:["labels",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,19509)),"/home/user/studio/src/app/dashboard/labels/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,63144)),"/home/user/studio/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/dashboard/labels/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/labels/page",pathname:"/dashboard/labels",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19509:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/dashboard/labels/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/dashboard/labels/page.tsx","default")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},42488:(e,t,s)=>{Promise.resolve().then(s.bind(s,58037))},44493:(e,t,s)=>{"use strict";s.d(t,{BT:()=>n,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>d,wL:()=>p});var r=s(60687),a=s(43210),i=s(4780);let o=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let n=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));n.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},58037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(60687),a=s(70054),i=s(29523),o=s(44493),d=s(69678),l=s(21724),n=s(82614);let c=(0,n.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),p=(0,n.A)("PlugZap",[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]]),u=(0,n.A)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),m=(0,n.A)("ShowerHead",[["path",{d:"m4 4 2.5 2.5",key:"uv2vmf"}],["path",{d:"M13.5 6.5a4.95 4.95 0 0 0-7 7",key:"frdkwv"}],["path",{d:"M15 5 5 15",key:"1ag8rq"}],["path",{d:"M14 17v.01",key:"eokfpp"}],["path",{d:"M10 16v.01",key:"14uyyl"}],["path",{d:"M13 13v.01",key:"1v1k97"}],["path",{d:"M16 10v.01",key:"5169yg"}],["path",{d:"M11 20v.01",key:"cj92p8"}],["path",{d:"M17 14v.01",key:"11cswd"}],["path",{d:"M20 11v.01",key:"19e0od"}]]),x=(0,n.A)("WashingMachine",[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]]),h=(0,n.A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),f=(0,n.A)("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);var b=s(11516);let j=(0,n.A)("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);var v=s(20742),y=s(89667),g=s(80013),N=s(15079),k=s(82978),w=s(27605),C=s(63442),I=s(9275),P=s(63213),E=s(71557),q=s(75535),A=s(43210),S=s(29867);let M=I.z.object({clienteId:I.z.string().min(1,"Selecione um cliente."),projetoId:I.z.string().min(1,"Selecione um projeto."),tipo:I.z.string().min(3,"Tipo da etiqueta \xe9 obrigat\xf3rio."),circuito:I.z.string().min(1,"Circuito \xe9 obrigat\xf3rio."),posicao:I.z.string().min(1,"Posi\xe7\xe3o \xe9 obrigat\xf3ria."),isBatchCreation:I.z.boolean().optional(),aptPrefix:I.z.string().optional(),aptStartNumber:I.z.coerce.number().int().positive().optional(),aptEndNumber:I.z.coerce.number().int().positive().optional()}).superRefine((e,t)=>{e.isBatchCreation&&(e.aptPrefix||t.addIssue({code:I.z.ZodIssueCode.custom,message:"Prefixo \xe9 obrigat\xf3rio para cria\xe7\xe3o em lote.",path:["aptPrefix"]}),(void 0===e.aptStartNumber||null===e.aptStartNumber)&&t.addIssue({code:I.z.ZodIssueCode.custom,message:"N\xfamero inicial \xe9 obrigat\xf3rio para cria\xe7\xe3o em lote.",path:["aptStartNumber"]}),(void 0===e.aptEndNumber||null===e.aptEndNumber)&&t.addIssue({code:I.z.ZodIssueCode.custom,message:"N\xfamero final \xe9 obrigat\xf3rio para cria\xe7\xe3o em lote.",path:["aptEndNumber"]}),void 0!==e.aptStartNumber&&void 0!==e.aptEndNumber&&e.aptEndNumber<e.aptStartNumber&&t.addIssue({code:I.z.ZodIssueCode.custom,message:"N\xfamero final deve ser maior ou igual ao inicial.",path:["aptEndNumber"]}),void 0!==e.aptStartNumber&&void 0!==e.aptEndNumber&&e.aptEndNumber-e.aptStartNumber+1>50&&t.addIssue({code:I.z.ZodIssueCode.custom,message:"M\xe1ximo de 50 etiquetas por lote.",path:["aptEndNumber"]}))});function R(){let{user:e}=(0,P.A)(),{toast:t}=(0,S.dj)(),[s,n]=(0,A.useState)([]),[I,R]=(0,A.useState)([]),[z,D]=(0,A.useState)([]),[B,_]=(0,A.useState)(!1),[G,J]=(0,A.useState)(!0),[Z,L]=(0,A.useState)(null),[F,T]=(0,A.useState)(!1),{control:V,handleSubmit:$,reset:O,watch:U,setValue:H,formState:{errors:X}}=(0,w.mN)({resolver:(0,C.u)(M),defaultValues:{clienteId:"",projetoId:"",tipo:"",circuito:"",posicao:"",isBatchCreation:!1,aptPrefix:"Apto ",aptStartNumber:void 0,aptEndNumber:void 0}}),Q=U("clienteId"),W=U("projetoId"),K=U("tipo"),Y=U("circuito"),ee=U("isBatchCreation"),et=(0,A.useCallback)(async(t=W)=>{if(!t||!e){L(null);return}T(!0);try{let s=(0,q.P)((0,q.rJ)(E.db,"etiquetas"),(0,q._M)("createdBy","==",e.uid),(0,q._M)("projetoId","==",t)),r=(await (0,q.GG)(s)).docs.map(e=>e.data()),a=0;r.forEach(e=>{let t=e.circuito?.match(/^C(\d+)$/i);if(t&&t[1]){let e=parseInt(t[1],10);e>a&&(a=e)}}),L(`C${a+1}`)}catch(e){console.error("Error fetching labels for suggestion:",e),L(null)}finally{T(!1)}},[e,W]);(0,A.useCallback)(async()=>{if(e){J(!0);try{let t=(0,q.P)((0,q.rJ)(E.db,"clientes"),(0,q._M)("owner","==",e.uid)),s=(await (0,q.GG)(t)).docs.map(e=>({id:e.id,...e.data()}));n(s);let r=(0,q.P)((0,q.rJ)(E.db,"projetos"),(0,q._M)("owner","==",e.uid)),a=(await (0,q.GG)(r)).docs.map(e=>({id:e.id,...e.data()}));R(a)}catch(e){t({title:"Erro ao buscar dados",description:"N\xe3o foi poss\xedvel carregar clientes e projetos.",variant:"destructive"})}finally{J(!1)}}},[e,t]);let es=async s=>{if(e){_(!0);try{if(s.isBatchCreation&&s.aptStartNumber&&s.aptEndNumber&&s.aptPrefix){let r=(0,q.wP)(E.db),a=0;for(let t=s.aptStartNumber;t<=s.aptEndNumber;t++){let i={createdBy:e.uid,clienteId:s.clienteId,projetoId:s.projetoId,tipo:s.tipo,circuito:s.circuito,posicao:`${s.posicao} - ${s.aptPrefix}${t}`},o=doc((0,q.rJ)(E.db,"etiquetas"));r.set(o,i),a++}await r.commit(),t({title:"Etiquetas criadas em lote!",description:`${a} etiquetas foram salvas com sucesso.`})}else{let r={createdBy:e.uid,clienteId:s.clienteId,projetoId:s.projetoId,tipo:s.tipo,circuito:s.circuito,posicao:s.posicao};await (0,q.gS)((0,q.rJ)(E.db,"etiquetas"),r),t({title:"Etiqueta criada!",description:"A nova etiqueta foi salva com sucesso."})}O({clienteId:s.clienteId,projetoId:s.projetoId,tipo:"",circuito:"",posicao:"",isBatchCreation:!1,aptPrefix:"Apto ",aptStartNumber:void 0,aptEndNumber:void 0}),et(s.projetoId)}catch(e){console.error("Error creating label(s):",e),t({title:"Erro ao criar etiqueta(s)",description:"N\xe3o foi poss\xedvel salvar a(s) etiqueta(s).",variant:"destructive"})}finally{_(!1)}}},er=Y?(Y.trim().split(/[\s-/]/)[0]||"CX").toUpperCase():"CX",ea=K||"TIPO ETIQUETA",ei=`DISJUNTOR ${(e=>{let t=e.toLowerCase();return t.includes("idr")||t.includes("dps")?"PROTE\xc7\xc3O":t.includes("chuveiro")?"40A":t.includes("forno")||t.includes("fog\xe3o")||t.includes("cooktop")?"25A":t.includes("ilumina")?"10A":t.includes("lavanderia")?"16A":t.includes("banheiro")&&!t.includes("chuveiro")||t.includes("tomada")||t.includes("computador")?"20A":"XX A"})(K||"")}`;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(a.A,{title:"Cria\xe7\xe3o de Etiquetas T\xe9cnicas",description:"Preencha os dados para gerar uma nova etiqueta ou um lote para m\xfaltiplos locais."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)(o.Zp,{className:"md:col-span-2",children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Dados da Etiqueta"})}),(0,r.jsx)(o.Wu,{children:G?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)(b.A,{className:"h-8 w-8 animate-spin text-primary"})," ",(0,r.jsx)("p",{className:"ml-2",children:"Carregando dados..."})]}):(0,r.jsxs)("form",{onSubmit:$(es),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"clienteId",children:"Cliente"}),(0,r.jsx)(w.xI,{name:"clienteId",control:V,render:({field:e})=>(0,r.jsxs)(N.l6,{onValueChange:e.onChange,value:e.value,children:[(0,r.jsx)(N.bq,{id:"clienteId",children:(0,r.jsx)(N.yv,{placeholder:"Selecione um cliente"})}),(0,r.jsx)(N.gC,{children:s.map(e=>(0,r.jsx)(N.eb,{value:e.id,children:e.nome},e.id))})]})}),X.clienteId&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.clienteId.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"projetoId",children:"Projeto"}),(0,r.jsx)(w.xI,{name:"projetoId",control:V,render:({field:e})=>(0,r.jsxs)(N.l6,{onValueChange:e.onChange,value:e.value,disabled:!Q||0===z.length,children:[(0,r.jsx)(N.bq,{id:"projetoId",children:(0,r.jsx)(N.yv,{placeholder:Q?0===z.length?"Nenhum projeto para este cliente":"Selecione um projeto":"Selecione um cliente primeiro"})}),(0,r.jsx)(N.gC,{children:z.map(e=>(0,r.jsx)(N.eb,{value:e.id,children:e.nome},e.id))})]})}),X.projetoId&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.projetoId.message})]}),(0,r.jsxs)("div",{className:"pt-2 pb-1 border-b border-dashed",children:[(0,r.jsx)(g.J,{className:"text-base font-semibold text-foreground",children:"Dados Base da Etiqueta (Modelo)"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Estes dados ser\xe3o usados para todas as etiquetas no lote (se aplic\xe1vel)."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"tipo",children:"Tipo da Etiqueta"}),(0,r.jsx)(w.xI,{name:"tipo",control:V,render:({field:e})=>(0,r.jsx)(y.p,{id:"tipo",...e,placeholder:"Ex: Ilumina\xe7\xe3o Cozinha, Tomada Sala, IDR Geral"})}),X.tipo&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.tipo.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"circuito",children:"Circuito (ID)"}),(0,r.jsx)(w.xI,{name:"circuito",control:V,render:({field:e})=>(0,r.jsx)(y.p,{id:"circuito",...e,placeholder:"Ex: C1, C2A, IDR, DPS"})}),X.circuito&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.circuito.message}),F&&W&&(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Buscando sugest\xe3o de ID..."}),!F&&Z&&W&&(0,r.jsx)("div",{className:"mt-1 text-xs",children:(0,r.jsxs)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>H("circuito",Z,{shouldValidate:!0}),children:["Usar Sugest\xe3o: ",Z]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"posicao",children:"Posi\xe7\xe3o / Localiza\xe7\xe3o Detalhada (Base)"}),(0,r.jsx)(w.xI,{name:"posicao",control:V,render:({field:e})=>(0,r.jsx)(y.p,{id:"posicao",...e,placeholder:"Ex: QDC Principal, Corredor Quartos"})}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Para lotes, o prefixo e n\xfamero do local ser\xe3o adicionados aqui."}),X.posicao&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.posicao.message})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,r.jsx)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{H("tipo","IDR Geral",{shouldValidate:!0}),H("circuito","IDR",{shouldValidate:!0}),H("posicao","Quadro de Distribui\xe7\xe3o Principal",{shouldValidate:!0})},disabled:!W,children:"Sugerir Etiqueta IDR"}),(0,r.jsx)(i.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{H("tipo","DPS Geral",{shouldValidate:!0}),H("circuito","DPS",{shouldValidate:!0}),H("posicao","Entrada Geral / QDG",{shouldValidate:!0})},disabled:!W,children:"Sugerir Etiqueta DPS"})]}),(0,r.jsxs)("div",{className:"space-y-2 pt-4 border-t border-dashed",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(w.xI,{name:"isBatchCreation",control:V,render:({field:e})=>(0,r.jsx)(k.S,{id:"isBatchCreation",checked:e.value,onCheckedChange:e.onChange,disabled:!W})}),(0,r.jsx)(g.J,{htmlFor:"isBatchCreation",className:"font-medium text-foreground",children:"Criar para M\xfaltiplos Apartamentos/Locais?"})]}),X.isBatchCreation&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.isBatchCreation.message})]}),ee&&W&&(0,r.jsxs)(o.Zp,{className:"p-4 bg-muted/50",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"aptPrefix",children:"Prefixo do Local"}),(0,r.jsx)(w.xI,{name:"aptPrefix",control:V,render:({field:e})=>(0,r.jsx)(y.p,{id:"aptPrefix",...e})}),X.aptPrefix&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.aptPrefix.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"aptStartNumber",children:"N\xfamero Inicial"}),(0,r.jsx)(w.xI,{name:"aptStartNumber",control:V,render:({field:e})=>(0,r.jsx)(y.p,{id:"aptStartNumber",type:"number",...e})}),X.aptStartNumber&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.aptStartNumber.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"aptEndNumber",children:"N\xfamero Final"}),(0,r.jsx)(w.xI,{name:"aptEndNumber",control:V,render:({field:e})=>(0,r.jsx)(y.p,{id:"aptEndNumber",type:"number",...e})}),X.aptEndNumber&&(0,r.jsx)("p",{className:"text-sm text-destructive mt-1",children:X.aptEndNumber.message})]})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:'Ex: Prefixo "Apto ", Inicial 101, Final 110 criar\xe1 etiquetas para Apto 101, Apto 102, ..., Apto 110.'})]}),(0,r.jsxs)(i.$,{type:"submit",disabled:B||!W,className:"w-full",children:[B?(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}):ee?(0,r.jsx)(j,{className:"mr-2 h-4 w-4"}):(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),ee?"Criar Etiquetas em Lote":"Criar Etiqueta \xdanica"]})]})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Visualiza\xe7\xe3o da Etiqueta"})}),(0,r.jsxs)(o.Wu,{className:"flex flex-col items-center justify-center p-4 bg-muted rounded-md min-h-[200px]",children:[(0,r.jsxs)("div",{className:"w-[260px] h-[100px] bg-white border-2 border-black rounded-lg flex font-sans shadow-md",children:[(0,r.jsx)("div",{className:"w-1/3 flex items-center justify-center border-r-2 border-black p-1",children:(0,r.jsx)("span",{className:"text-3xl font-bold text-black truncate",title:er,children:er})}),(0,r.jsxs)("div",{className:"w-2/3 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex-1 flex items-center p-2 border-b-2 border-black",children:[(e=>{let t=e.toLowerCase();return t.includes("idr")?(0,r.jsx)(d.A,{className:"h-7 w-7 mr-2 shrink-0 text-yellow-500"}):t.includes("dps")?(0,r.jsx)(l.A,{className:"h-7 w-7 mr-2 shrink-0 text-green-500"}):t.includes("ilumina")?(0,r.jsx)(c,{className:"h-7 w-7 mr-2 shrink-0"}):t.includes("tomada")?(0,r.jsx)(p,{className:"h-7 w-7 mr-2 shrink-0"}):t.includes("computador")||t.includes("pc")?(0,r.jsx)(u,{className:"h-7 w-7 mr-2 shrink-0"}):t.includes("chuveiro")?(0,r.jsx)(m,{className:"h-7 w-7 mr-2 shrink-0"}):t.includes("lavanderia")||t.includes("m\xe1quina de lavar")||t.includes("lava roupa")?(0,r.jsx)(x,{className:"h-7 w-7 mr-2 shrink-0"}):t.includes("forno")||t.includes("fog\xe3o")||t.includes("cooktop")?(0,r.jsx)(h,{className:"h-7 w-7 mr-2 shrink-0 text-muted-foreground"}):t.includes("banheiro")||t.includes("banheira")?(0,r.jsx)(f,{className:"h-7 w-7 mr-2 shrink-0"}):(0,r.jsx)(h,{className:"h-7 w-7 mr-2 shrink-0 text-muted-foreground"})})(K||""),(0,r.jsx)("span",{className:"font-bold text-base text-black uppercase truncate",title:ea,children:ea})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-1",children:(0,r.jsx)("span",{className:"text-xs text-black uppercase",children:ei})})]})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-3 text-center",children:ee?"A visualiza\xe7\xe3o mostra o modelo base para o lote.":"A etiqueta real ser\xe1 gerada com QR Code (funcionalidade futura)."})]})]}),(0,r.jsxs)(o.Zp,{children:[(0,r.jsx)(o.aR,{children:(0,r.jsx)(o.ZB,{children:"Dicas"})}),(0,r.jsxs)(o.Wu,{className:"text-sm text-muted-foreground space-y-2",children:[(0,r.jsx)("p",{children:"• **Selecione Cliente e Projeto** primeiro para habilitar a cria\xe7\xe3o."}),(0,r.jsx)("p",{children:"• **Cria\xe7\xe3o em Lote:** Marque a op\xe7\xe3o para criar etiquetas para uma s\xe9rie de locais (ex: apartamentos 101 a 110). Os dados base (tipo, circuito) ser\xe3o replicados."}),(0,r.jsx)("p",{children:"• **Circuito (ID):** Use a sugest\xe3o autom\xe1tica (C1, C2...) ou digite um ID espec\xedfico (ex: IDR, DPS)."}),(0,r.jsx)("p",{children:"• **Bot\xf5es de Sugest\xe3o (IDR/DPS):** Preenchem os campos com dados padr\xe3o para esses tipos de prote\xe7\xe3o."})]})]})]})]})]})}},58168:(e,t,s)=>{Promise.resolve().then(s.bind(s,19509))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/dashboard/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/dashboard/layout.tsx","default")},63902:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(60687);s(43210);var a=s(16189),i=s(63213),o=s(60432),d=s(71030),l=s(11516),n=s(89080),c=s(35663),p=s(7593);function u({children:e}){let{user:t,loading:s}=(0,i.A)();return((0,a.useRouter)(),s||!t)?(0,r.jsx)("div",{className:"flex h-screen items-center justify-center bg-background",children:(0,r.jsx)(l.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,r.jsxs)(n.GB,{defaultOpen:!0,children:[(0,r.jsx)(c.A,{fallback:(0,r.jsx)(p.t,{}),children:(0,r.jsx)(o.G,{})}),(0,r.jsxs)(n.sF,{children:[(0,r.jsx)(d.j,{}),(0,r.jsx)("main",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-auto",children:e})]})]})}},65067:(e,t,s)=>{Promise.resolve().then(s.bind(s,63902))},69678:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},70054:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(60687);function a({title:e,description:t,actions:s}){return(0,r.jsxs)("div",{className:"mb-6 md:flex md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold leading-7 text-foreground sm:truncate sm:text-3xl sm:tracking-tight",children:e}),t&&(0,r.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:t})]}),s&&(0,r.jsx)("div",{className:"mt-4 flex md:ml-4 md:mt-0",children:s})]})}},70643:(e,t,s)=>{Promise.resolve().then(s.bind(s,63144))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,s)=>{"use strict";s.d(t,{J:()=>n});var r=s(60687),a=s(43210),i=s(78148),o=s(24224),d=s(4780);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.b,{ref:s,className:(0,d.cn)(l(),e),...t}));n.displayName=i.b.displayName},81630:e=>{"use strict";e.exports=require("http")},82978:(e,t,s)=>{"use strict";s.d(t,{S:()=>A});var r=s(60687),a=s(43210),i=s(98599),o=s(11273),d=s(70569),l=s(65551),n=s(83721),c=s(18853),p=s(46059),u=s(14163),m="Checkbox",[x,h]=(0,o.A)(m),[f,b]=x(m);function j(e){let{__scopeCheckbox:t,checked:s,children:i,defaultChecked:o,disabled:d,form:n,name:c,onCheckedChange:p,required:u,value:x="on",internal_do_not_use_render:h}=e,[b,j]=(0,l.i)({prop:s,defaultProp:o??!1,onChange:p,caller:m}),[v,y]=a.useState(null),[g,N]=a.useState(null),k=a.useRef(!1),w=!v||!!n||!!v.closest("form"),C={checked:b,disabled:d,setChecked:j,control:v,setControl:y,name:c,form:n,value:x,hasConsumerStoppedPropagationRef:k,required:u,defaultChecked:!I(o)&&o,isFormControl:w,bubbleInput:g,setBubbleInput:N};return(0,r.jsx)(f,{scope:t,...C,children:"function"==typeof h?h(C):i})}var v="CheckboxTrigger",y=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...o},l)=>{let{control:n,value:c,disabled:p,checked:m,required:x,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:j,isFormControl:y,bubbleInput:g}=b(v,e),N=(0,i.s)(l,h),k=a.useRef(m);return a.useEffect(()=>{let e=n?.form;if(e){let t=()=>f(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[n,f]),(0,r.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":I(m)?"mixed":m,"aria-required":x,"data-state":P(m),"data-disabled":p?"":void 0,disabled:p,value:c,...o,ref:N,onKeyDown:(0,d.m)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,d.m)(s,e=>{f(e=>!!I(e)||!e),g&&y&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});y.displayName=v;var g=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:a,checked:i,defaultChecked:o,required:d,disabled:l,value:n,onCheckedChange:c,form:p,...u}=e;return(0,r.jsx)(j,{__scopeCheckbox:s,checked:i,defaultChecked:o,disabled:l,required:d,onCheckedChange:c,name:a,form:p,value:n,internal_do_not_use_render:({isFormControl:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{...u,ref:t,__scopeCheckbox:s}),e&&(0,r.jsx)(C,{__scopeCheckbox:s})]})})});g.displayName=m;var N="CheckboxIndicator",k=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...i}=e,o=b(N,s);return(0,r.jsx)(p.C,{present:a||I(o.checked)||!0===o.checked,children:(0,r.jsx)(u.sG.span,{"data-state":P(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});k.displayName=N;var w="CheckboxBubbleInput",C=a.forwardRef(({__scopeCheckbox:e,...t},s)=>{let{control:o,hasConsumerStoppedPropagationRef:d,checked:l,defaultChecked:p,required:m,disabled:x,name:h,value:f,form:j,bubbleInput:v,setBubbleInput:y}=b(w,e),g=(0,i.s)(s,y),N=(0,n.Z)(l),k=(0,c.X)(o);a.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(N!==l&&e){let s=new Event("click",{bubbles:t});v.indeterminate=I(l),e.call(v,!I(l)&&l),v.dispatchEvent(s)}},[v,N,l,d]);let C=a.useRef(!I(l)&&l);return(0,r.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??C.current,required:m,disabled:x,name:h,value:f,form:j,...t,tabIndex:-1,ref:g,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function I(e){return"indeterminate"===e}function P(e){return I(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=w;var E=s(58450),q=s(4780);let A=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(g,{ref:s,className:(0,q.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,r.jsx)(k,{className:(0,q.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(E.A,{className:"h-4 w-4"})})}));A.displayName=g.displayName},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,405,707,327,825,84,277,668],()=>s(18448));module.exports=r})();